<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SentenceEmbeddingOptimizer - Parameters ÙˆØ§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 20px; line-height: 1.8; }
        .container { max-width: 1200px; margin: 0 auto; }
        .header { background: rgba(255, 255, 255, 0.95); padding: 30px; border-radius: 20px; box-shadow: 0 20px 40px rgba(0,0,0,0.1); margin-bottom: 30px; text-align: center; }
        .card { background: rgba(255, 255, 255, 0.95); border-radius: 20px; padding: 30px; margin-bottom: 30px; box-shadow: 0 20px 40px rgba(0,0,0,0.1); transition: transform 0.3s ease; }
        .card:hover { transform: translateY(-5px); }
        .card h2 { color: #2c3e50; font-size: 1.8em; margin-bottom: 20px; border-bottom: 3px solid #3498db; padding-bottom: 10px; }
        .parameter-box { background: linear-gradient(120deg, #84fab0 0%, #8fd3f4 100%); padding: 20px; border-radius: 15px; margin: 20px 0; }
        .percentile-demo { background: linear-gradient(120deg, #ffecd2 0%, #fcb69f 100%); padding: 20px; border-radius: 15px; margin: 20px 0; }
        .threshold-demo { background: linear-gradient(120deg, #ff9a9e 0%, #fecfef 100%); padding: 20px; border-radius: 15px; margin: 20px 0; }
        .combination-example { background: linear-gradient(120deg, #a8edea 0%, #fed6e3 100%); padding: 20px; border-radius: 15px; margin: 20px 0; }
        .tokenizer-explanation { background: linear-gradient(120deg, #d299c2 0%, #fef9d7 100%); padding: 20px; border-radius: 15px; margin: 20px 0; }
        .code-card { background: #2c3e50; color: #ecf0f1; padding: 20px; border-radius: 15px; margin: 20px 0; direction: ltr; text-align: left; }
        .calculation-box { background: #f8f9fa; padding: 15px; border-radius: 10px; margin: 15px 0; border-right: 4px solid #007bff; }
        .footer { background: rgba(44, 62, 80, 0.9); color: white; text-align: center; padding: 20px; border-radius: 15px; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>âš™ï¸ SentenceEmbeddingOptimizer - Parameters ÙˆØ§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª</h1>
            <p>Ø§Ù„Ø¯Ø±Ø³ Ø§Ù„Ø«Ø§Ù„Ø« Ø¹Ø´Ø±: ÙÙ‡Ù… ÙƒÙ„ Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª ÙˆØ§Ù„Ø®ÙŠØ§Ø±Ø§Øª Ø§Ù„Ù…ØªØ§Ø­Ø©</p>
        </div>

        <div class="card">
            <h2>ğŸ¤– Embedding Model</h2>
            <div class="parameter-box">
                <h3>ğŸ¯ Ø§Ù„Ù€ Parameter Ø§Ù„Ø£ÙˆÙ„ ÙˆØ§Ù„Ø£Ù‡Ù…:</h3>
                <p>Ù„Ø§Ø²Ù… ØªØ¯ÙŠÙ„Ù‡ embedding model Ø¹Ø´Ø§Ù† ÙŠØ­ÙˆÙ„ Ø§Ù„Ø¬Ù…Ù„ ÙˆØ§Ù„Ù€ query Ù„Ù€ vectors ÙˆÙŠÙ‚Ø§Ø±Ù† Ø¨ÙŠÙ†Ù‡Ù….</p>
                
                <h3>ğŸ”§ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ:</h3>
                <p>Ø²ÙŠ ÙƒÙ„ Ø­Ø§Ø¬Ø© ÙÙŠ LlamaIndexØŒ Ø¨ÙŠØ³ØªØ®Ø¯Ù… OpenAI embedding model Ø§ÙØªØ±Ø§Ø¶ÙŠØ§Ù‹.</p>
                
                <h3>ğŸ® Ø§Ù„Ø¨Ø¯Ø§Ø¦Ù„:</h3>
                <ul>
                    <li><strong>OpenAI:</strong> text-embedding-ada-002 (Ø¯Ù‚ÙŠÙ‚ Ù„ÙƒÙ† Ù…ÙƒÙ„Ù)</li>
                    <li><strong>Hugging Face:</strong> models Ù…Ø¬Ø§Ù†ÙŠØ© ÙˆÙ…ØªÙ†ÙˆØ¹Ø©</li>
                    <li><strong>Local Models:</strong> Ù„Ù„Ø®ØµÙˆØµÙŠØ© ÙˆØ§Ù„Ø³Ø±Ø¹Ø©</li>
                    <li><strong>Multilingual Models:</strong> Ù„Ù„ØºØ§Øª Ø§Ù„Ù…Ø®ØªÙ„ÙØ©</li>
                </ul>
            </div>
        </div>

        <div class="card">
            <h2>ğŸ“Š Percentile Cutoff</h2>
            <div class="percentile-demo">
                <h3>ğŸ¯ Ø¥ÙŠÙ‡ Ø¯Ù‡ØŸ</h3>
                <p>Ø¯Ù‡ Ø¨ÙŠØ­Ø¯Ø¯ Ù†Ø³Ø¨Ø© Ø§Ù„Ø¬Ù…Ù„ Ø§Ù„Ù„ÙŠ Ø¹Ø§ÙŠØ²Ù‡Ø§ Ù…Ù† Ø§Ù„Ø£Ø¹Ù„Ù‰ similarity. Ù…Ø«Ù„Ø§Ù‹ 0.5 ÙŠØ¹Ù†ÙŠ Ø£Ø¹Ù„Ù‰ 50% Ù…Ù† Ø§Ù„Ø¬Ù…Ù„.</p>
                
                <div class="calculation-box">
                    <h4>ğŸ§® Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø­Ø³Ø§Ø¨:</h4>
                    <p><strong>Ø¹Ø¯Ø¯ Ø§Ù„Ø¬Ù…Ù„ Ø§Ù„Ù…Ø®ØªØ§Ø±Ø© = int(Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¬Ù…Ù„ Ã— percentile_cutoff)</strong></p>
                </div>
                
                <h3>ğŸ“ Ù…Ø«Ø§Ù„ Ø¹Ù…Ù„ÙŠ:</h3>
                <ul>
                    <li><strong>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¬Ù…Ù„:</strong> 20 Ø¬Ù…Ù„Ø©</li>
                    <li><strong>percentile_cutoff = 0.5:</strong> int(20 Ã— 0.5) = 10 Ø¬Ù…Ù„</li>
                    <li><strong>Ø§Ù„Ù†ØªÙŠØ¬Ø©:</strong> Ø£Ø¹Ù„Ù‰ 10 Ø¬Ù…Ù„ Ù…Ù† Ù†Ø§Ø­ÙŠØ© similarity</li>
                </ul>
                
                <h3>ğŸ›ï¸ Ù‚ÙŠÙ… Ù…Ø®ØªÙ„ÙØ©:</h3>
                <ul>
                    <li><strong>0.3:</strong> Ø£Ø¹Ù„Ù‰ 30% (ØªØ±ÙƒÙŠØ² Ø¹Ø§Ù„ÙŠ)</li>
                    <li><strong>0.5:</strong> Ø£Ø¹Ù„Ù‰ 50% (Ù…ØªÙˆØ§Ø²Ù†)</li>
                    <li><strong>0.7:</strong> Ø£Ø¹Ù„Ù‰ 70% (Ø´Ø§Ù…Ù„ Ø£ÙƒØªØ±)</li>
                </ul>
            </div>
        </div>

        <div class="card">
            <h2>ğŸ¯ Threshold Cutoff</h2>
            <div class="threshold-demo">
                <h3>ğŸ” Ø¥ÙŠÙ‡ Ø§Ù„ÙØ±Ù‚ Ø¹Ù† PercentileØŸ</h3>
                <p>Ø¯Ù‡ Ù…Ø´ Ø¨ÙŠØ­Ø¯Ø¯ Ù†Ø³Ø¨Ø©ØŒ Ù„ÙƒÙ† Ø¨ÙŠØ­Ø¯Ø¯ Ø­Ø¯ Ø£Ø¯Ù†Ù‰ Ù„Ù„Ù€ similarity score Ù†ÙØ³Ù‡.</p>
                
                <h3>ğŸ“Š Ù…Ø«Ø§Ù„ ØªÙˆØ¶ÙŠØ­ÙŠ:</h3>
                <p><strong>threshold_cutoff = 0.7:</strong> Ø¨Ø³ Ø§Ù„Ø¬Ù…Ù„ Ø§Ù„Ù„ÙŠ similarity score Ø¨ØªØ§Ø¹Ù‡Ø§ Ø£Ø¹Ù„Ù‰ Ù…Ù† 0.7</p>
                
                <h3>ğŸ® Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆÙ‡Ø§Øª:</h3>
                <ul>
                    <li><strong>Ù„Ùˆ ÙƒÙ„ Ø§Ù„Ø¬Ù…Ù„ > 0.7:</strong> ÙƒÙ„Ù‡Ø§ Ù‡ØªØªØ§Ø®Ø¯</li>
                    <li><strong>Ù„Ùˆ Ø¬Ù…Ù„Ø© ÙˆØ§Ø­Ø¯Ø© > 0.7:</strong> Ø¯ÙŠ Ø¨Ø³ Ø§Ù„Ù„ÙŠ Ù‡ØªØªØ§Ø®Ø¯</li>
                    <li><strong>Ù„Ùˆ Ù…Ø§ÙÙŠØ´ Ø¬Ù…Ù„ > 0.7:</strong> Ù…Ø´ Ù‡ÙŠØªØ§Ø®Ø¯ Ø­Ø§Ø¬Ø©!</li>
                </ul>
                
                <h3>âš–ï¸ Ù…ØªÙ‰ Ù†Ø³ØªØ®Ø¯Ù…Ù‡ØŸ</h3>
                <p>Ù„Ù…Ø§ Ø¹Ø§ÙŠØ² Ø¬ÙˆØ¯Ø© Ø«Ø§Ø¨ØªØ© Ø¨ØºØ¶ Ø§Ù„Ù†Ø¸Ø± Ø¹Ù† Ø§Ù„Ø¹Ø¯Ø¯. Ù…Ø«Ù„Ø§Ù‹ ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ© Ø£Ùˆ Ø§Ù„Ù‚Ø§Ù†ÙˆÙ†ÙŠØ©.</p>
            </div>
        </div>

        <div class="card">
            <h2>ğŸ”„ Ø¯Ù…Ø¬ Percentile Ùˆ Threshold</h2>
            <div class="combination-example">
                <h3>ğŸ’¡ Ù‚ÙˆØ© Ø§Ù„Ø¯Ù…Ø¬:</h3>
                <p>Ù…Ù…ÙƒÙ† ØªØ³ØªØ®Ø¯Ù… Ø§Ù„Ø§ØªÙ†ÙŠÙ† Ù…Ø¹ Ø¨Ø¹Ø¶! Ø§Ù„Ù†Ø¸Ø§Ù… Ù‡ÙŠØ§Ø®Ø¯ Ø§Ù„Ø¬Ù…Ù„ Ø§Ù„Ù„ÙŠ ØªØ­Ù‚Ù‚ Ø§Ù„Ø´Ø±Ø·ÙŠÙ†.</p>
                
                <h3>ğŸ“ Ù…Ø«Ø§Ù„ Ø¹Ù…Ù„ÙŠ:</h3>
                <ul>
                    <li><strong>percentile_cutoff = 0.5:</strong> Ø£Ø¹Ù„Ù‰ 50%</li>
                    <li><strong>threshold_cutoff = 0.6:</strong> Ø¨Ø³ Ø§Ù„Ù„ÙŠ ÙÙˆÙ‚ 0.6</li>
                </ul>
                
                <h3>ğŸ§® Ø§Ù„Ù†ØªÙŠØ¬Ø©:</h3>
                <p>Ù‡ÙŠØ§Ø®Ø¯ Ø£Ø¹Ù„Ù‰ 50% Ù…Ù† Ø§Ù„Ø¬Ù…Ù„ØŒ Ù„ÙƒÙ† Ø¨Ø³ Ø§Ù„Ù„ÙŠ similarity score Ø¨ØªØ§Ø¹Ù‡Ø§ ÙÙˆÙ‚ 0.6.</p>
                
                <h3>ğŸ¯ ÙÙˆØ§Ø¦Ø¯ Ø§Ù„Ø¯Ù…Ø¬:</h3>
                <ul>
                    <li><strong>Ù…Ø±ÙˆÙ†Ø©:</strong> ØªØ­ÙƒÙ… ÙÙŠ Ø§Ù„Ø¹Ø¯Ø¯ ÙˆØ§Ù„Ø¬ÙˆØ¯Ø©</li>
                    <li><strong>Ø£Ù…Ø§Ù†:</strong> Ù…Ø§ÙÙŠØ´ Ø¬Ù…Ù„ Ø¶Ø¹ÙŠÙØ© Ù‡ØªØ¹Ø¯ÙŠ</li>
                    <li><strong>ØªØ­Ø³ÙŠÙ†:</strong> Ø£ÙØ¶Ù„ balance Ø¨ÙŠÙ† Ø§Ù„ÙƒÙ…ÙŠØ© ÙˆØ§Ù„Ù†ÙˆØ¹ÙŠØ©</li>
                </ul>
            </div>
        </div>

        <div class="card">
            <h2>âœ‚ï¸ Tokenizer Function</h2>
            <div class="tokenizer-explanation">
                <h3>ğŸ”§ Ø§Ù„ÙˆØ¸ÙŠÙØ©:</h3>
                <p>Ø¯ÙŠ Ø§Ù„function Ø§Ù„Ù„ÙŠ Ø¨ØªÙ‚Ø³Ù… Ø§Ù„Ù†Øµ Ù„Ø¬Ù…Ù„ Ù…Ù†ÙØ±Ø¯Ø©.</p>
                
                <h3>ğŸ“š Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ: NLTK English Tokenizer</h3>
                <p>Ø¨ÙŠØ³ØªØ®Ø¯Ù… punkt sentence tokenizer Ù…Ù† NLTKØŒ ÙˆØ§Ø­Ø¯ Ù…Ù† Ø£Ø¯Ù‚ Ø§Ù„Ù€ tokenizers.</p>
                
                <h3>ğŸ¯ Ù„ÙŠÙ‡ punkt ÙƒÙˆÙŠØ³ØŸ</h3>
                <ul>
                    <li><strong>Ø°ÙƒÙŠ:</strong> Ù…Ø´ Ø¨ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ù†Ù‚Ø·Ø© Ø¨Ø³</li>
                    <li><strong>ÙŠÙÙ‡Ù… Ø§Ù„Ø§Ø®ØªØµØ§Ø±Ø§Øª:</strong> "Dr. Ahmed" Ù…Ø´ Ø¬Ù…Ù„ØªÙŠÙ†</li>
                    <li><strong>ÙŠØªØ¹Ø§Ù…Ù„ Ù…Ø¹ Ø¹Ù„Ø§Ù…Ø§Øª Ø§Ù„ØªØ±Ù‚ÙŠÙ…:</strong> Ø£Ø³Ø¦Ù„Ø©ØŒ ØªØ¹Ø¬Ø¨ØŒ Ø¥Ù„Ø®</li>
                    <li><strong>Ù…ØªØ¹Ø¯Ø¯ Ø§Ù„Ù„ØºØ§Øª:</strong> ÙŠØ¯Ø¹Ù… Ù„ØºØ§Øª ÙƒØªÙŠØ±Ø©</li>
                </ul>
                
                <h3>ğŸ”„ Ø§Ù„Ø¨Ø¯Ø§Ø¦Ù„:</h3>
                <ul>
                    <li>Custom tokenizers Ù„Ù„ØºØ§Øª Ø®Ø§ØµØ©</li>
                    <li>Rule-based splitters Ù„Ù„ØªØ­ÙƒÙ… Ø£ÙƒØªØ±</li>
                    <li>ML-based tokenizers Ù„Ù„Ø¯Ù‚Ø© Ø§Ù„Ø¹Ø§Ù„ÙŠØ©</li>
                </ul>
            </div>
        </div>

        <div class="card">
            <h2>ğŸ“ Context Before/After</h2>
            <div class="parameter-box">
                <h3>ğŸ¯ Ø¥ÙŠÙ‡ Ø¯ÙˆÙ„ØŸ</h3>
                <p>Ø¯ÙˆÙ„ parameters ØªØ®Ù„ÙŠÙƒ ØªØ§Ø®Ø¯ Ø¬Ù…Ù„ Ø¥Ø¶Ø§ÙÙŠØ© Ù‚Ø¨Ù„ ÙˆØ¨Ø¹Ø¯ Ø§Ù„Ø¬Ù…Ù„ Ø§Ù„Ù…Ø®ØªØ§Ø±Ø© Ø¹Ø´Ø§Ù† Ø§Ù„Ø³ÙŠØ§Ù‚.</p>
                
                <h3>ğŸ“ Ù…Ø«Ø§Ù„:</h3>
                <ul>
                    <li><strong>Ø§Ù„Ø¬Ù…Ù„Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©:</strong> "Ø§Ù„Ø°ÙƒØ§Ø¡ Ø§Ù„Ø§ØµØ·Ù†Ø§Ø¹ÙŠ Ù…ÙÙŠØ¯ ÙÙŠ Ø§Ù„Ø·Ø¨"</li>
                    <li><strong>context_before = 1:</strong> Ù‡ÙŠØ§Ø®Ø¯ Ø¬Ù…Ù„Ø© Ù‚Ø¨Ù„Ù‡Ø§</li>
                    <li><strong>context_after = 1:</strong> Ù‡ÙŠØ§Ø®Ø¯ Ø¬Ù…Ù„Ø© Ø¨Ø¹Ø¯Ù‡Ø§</li>
                </ul>
                
                <h3>ğŸ¯ Ø§Ù„ÙØ§Ø¦Ø¯Ø©:</h3>
                <ul>
                    <li><strong>Ø³ÙŠØ§Ù‚ Ø£ÙˆØ³Ø¹:</strong> Ø§Ù„Ù€ LLM ÙŠÙÙ‡Ù… Ø£Ø­Ø³Ù†</li>
                    <li><strong>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù…ÙƒÙ…Ù„Ø©:</strong> ØªÙØ§ØµÙŠÙ„ Ø¥Ø¶Ø§ÙÙŠØ© Ù…Ù‡Ù…Ø©</li>
                    <li><strong>ØªØ±Ø§Ø¨Ø· Ø§Ù„Ù…Ø¹Ù†Ù‰:</strong> Ø§Ù„Ø¬Ù…Ù„ ØªÙƒÙˆÙ† Ù…ØªØ±Ø§Ø¨Ø·Ø©</li>
                </ul>
            </div>
        </div>

        <div class="card">
            <h2>ğŸ’» Ù…Ø«Ø§Ù„ Ø´Ø§Ù…Ù„ Ù„Ù„Ø¥Ø¹Ø¯Ø§Ø¯</h2>
            <div class="code-card">
                <h3>Complete Configuration:</h3>
                <pre><code>from llama_index.core.postprocessor import SentenceEmbeddingOptimizer
from llama_index.embeddings.huggingface import HuggingFaceEmbedding

# Custom embedding model
embedding_model = HuggingFaceEmbedding(
    model_name="sentence-transformers/all-MiniLM-L6-v2"
)

# Create optimizer with all parameters
optimizer = SentenceEmbeddingOptimizer(
    embed_model=embedding_model,
    percentile_cutoff=0.6,        # Top 60% of sentences
    threshold_cutoff=0.5,         # Minimum similarity 0.5
    context_before=1,             # 1 sentence before
    context_after=1               # 1 sentence after
)

# Use with query engine
query_engine = index.as_query_engine(
    node_postprocessors=[optimizer]
)</code></pre>
            </div>
        </div>

        <div class="card">
            <h2>ğŸ¯ Ø¥Ø²Ø§ÙŠ ØªØ®ØªØ§Ø± Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø©ØŸ</h2>
            <div class="combination-example">
                <h3>ğŸ” Ù„Ù„Ø¯Ù‚Ø© Ø§Ù„Ø¹Ø§Ù„ÙŠØ©:</h3>
                <ul>
                    <li>percentile_cutoff = 0.3</li>
                    <li>threshold_cutoff = 0.7</li>
                    <li>context_before/after = 0</li>
                </ul>
                
                <h3>âš–ï¸ Ù„Ù„ØªÙˆØ§Ø²Ù†:</h3>
                <ul>
                    <li>percentile_cutoff = 0.5</li>
                    <li>threshold_cutoff = 0.5</li>
                    <li>context_before/after = 1</li>
                </ul>
                
                <h3>ğŸ“š Ù„Ù„Ø´Ù…ÙˆÙ„ÙŠØ©:</h3>
                <ul>
                    <li>percentile_cutoff = 0.7</li>
                    <li>threshold_cutoff = 0.3</li>
                    <li>context_before/after = 2</li>
                </ul>
            </div>
        </div>

        <div class="footer">
            <p>âš™ï¸ Ø§Ù†ØªÙ‡Ù‰ Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„Ø«Ø§Ù„Ø« Ø¹Ø´Ø± | Ø§Ù„Ø¬Ø²Ø¡ Ø§Ù„ØªØ§Ù„ÙŠ: SentenceEmbeddingOptimizer - Ø¢Ù„ÙŠØ© Ø§Ù„Ø¹Ù…Ù„ Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ©</p>
        </div>
    </div>
</body>
</html>