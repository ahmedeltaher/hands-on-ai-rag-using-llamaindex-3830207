# تجميع كل شيء مع بعض

<div dir="rtl">

## نظرة عامة

في الدرس ده، هنجمع كل المفاهيم اللي اتعلمناها لحد دلوقتي لبناء نظام RAG كامل.

## الخطوات الأساسية

### 1. تحميل المستندات من Docstore

أول حاجة، هنحمل المستندات اللي خزناها قبل كده في Docstore.

### 2. الإدخال لقاعدة بيانات المتجهات

هنستخدم خط أنابيب الإدخال لمعالجة المستندات وتخزينها في قاعدة بيانات المتجهات.

**الخطوات:**
- استخدام `SentenceSplitter` لتقطيع المستندات
- تطبيق نموذج التضمين
- تخزين النتائج في Qdrant

### 3. بناء فهرس فوق قاعدة بيانات المتجهات

بعد إدخال البيانات، هننشئ فهرس متجهات ومحرك استعلام للتفاعل مع البيانات.

**المكونات:**
- إنشاء `VectorStoreIndex` من قاعدة البيانات
- إعداد `query_engine` مع معاملات قابلة للتخصيص
- تحديد عدد النتائج المراد استرجاعها (`similarity_top_k`)

### 4. خطوط أنابيب الاستعلام (Query Workflows)

هنستخدم Workflows الجديدة (بديل QueryPipeline القديم) لإدارة عملية الاستعلام.

**المميزات:**
- تعريف أحداث مخصصة للاستعلامات والاستجابات
- بناء workflow يربط محرك الاستعلام
- تشغيل الاستعلامات بشكل async

### 5. تشغيل الاستعلامات

هنختبر النظام بعدة استعلامات مختلفة:

**أمثلة للاستعلامات:**
- "إيه النماذج الذهنية، المبادئ أو الفلسفات الأكثر قيمة لاتخاذ قرارات حياتية مهمة والتنقل في عالم غير مؤكد؟"
- "إيه جوهر الحياة المعيشة بشكل جيد، وإيه المكونات الأساسية للحياة الجيدة اللي الجميع لازم يسعى ليها؟"
- "إيه الدور اللي الحظ بيلعبه في تحقيق النجاح الكبير وخلق الثروة؟ هل الاستفادة من الحظ مهارة ممكن تطويرها؟"
- "إيه بعض القواسم المشتركة بين تفكير Naval Ravikant وNassim Taleb عن الحظ؟"

### 6. الوصول للنتائج

بعد تشغيل الاستعلامات، تقدر توصل لـ:
- نص الاستجابة
- العقد المصدر (`source_nodes`)
- البيانات الوصفية للمستندات المستَرجعة

## الخلاصة

الدرس ده بيوضح إزاي تدمج كل مكونات نظام RAG:
- ✅ تحميل البيانات
- ✅ المعالجة والتقطيع
- ✅ التضمين والفهرسة
- ✅ الاسترجاع
- ✅ التوليد
- ✅ إرجاع النتائج

ده بيمثل نظام RAG "ساذج" أساسي. في الدروس الجاية، هنتعلم إزاي نحسنه بتقنيات أكثر تقدماً.

</div>
